---
layout: layout.njk
title: √âcole de Rugby Oval Sa√¥ne - Tr√©voux | U4 √† U14
description: √âcole de rugby familiale √† Tr√©voux pour enfants de 4 √† 14 ans (U4 √† U14) et adultes en Rugby Touch. Entra√Æneurs dipl√¥m√©s, valeurs du rugby, inscriptions ouvertes toute l'ann√©e. Stade de Chamalan.
---

<!-- Section Hero avec effet parallax -->
<section id="accueil" class="hero parallax-section" data-parallax-speed="0.3">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <div class="hero-logo">
            <img src="assets/logo-240x230.webp" alt="Logo √âcole de Rugby" fetchpriority="high" loading="eager">
        </div>
        <h1 class="hero-title">{{ page_accueil.hero_title  }}</h1>
        <p class="hero-subtitle">{{ page_accueil.hero_subtitle }}</p>
        <p class="hero-description">{{ page_accueil.hero_description }}</p>
        <div class="hero-buttons">
            <a href="/inscription" class="btn btn-primary btn-large">Nous rejoindre</a>
            <a href="/ecole" class="btn btn-outline-white btn-large">En savoir plus</a> 
        </div>
    </div>
    <!-- Indicateur de d√©filement -->
    <div class="scroll-indicator">
        <span class="scroll-indicator-text">D√©couvrir</span>
        <div class="scroll-indicator-icon"></div>
    </div>
</section>

<!-- Section Actualit√©s -->
<section class="actualites section">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>Actualit√©s</h2>
            </div>
        </div>
        <div class="actualites-grid" id="actualites-grid">
            <!-- Affiche les 3 actualit√©s les plus r√©centes, quelle que soit leur date (pass√©e ou future) -->
            {% assign sortedActualites = actualites | sort: 'date' | reverse %}
            
            {% if sortedActualites.size > 0 %}
            {% for actualite in sortedActualites limit:3 %}
                <article class="actualite-card fade-in-up">
                    <div class="actualite-image">
                        <img src="{{ actualite.image }}" alt="{{ actualite.titre }}" loading="lazy">
                        <div class="actualite-date-badge">{{ actualite.date | date: "%d/%m/%Y"}}</div>
                    </div>
                    <div class="actualite-content">
                        <h3 class="actualite-title">{{ actualite.titre }}</h3>
                        <p class="actualite-date"><i class="far fa-calendar-alt"></i> {{ actualite.date | date: "%d/%m/%Y" }}</p>
                        <p class="actualite-extrait">{{ actualite.extrait }}</p>
                        <button class="btn btn-primary btn-lire-suite" 
                                data-actualite-id="{{ actualite.id }}"
                                data-actualite-titre="{{ actualite.titre }}"
                                data-actualite-date="{{ actualite.date | date: '%d/%m/%Y' }}"
                                data-actualite-image="{{ actualite.image }}"
                                data-actualite-contenu="{{ actualite.contenu }}">
                            Lire la suite
                        </button>
                    </div>
                </article>
            {% endfor %}
            
            <!-- Les actualit√©s suppl√©mentaires (masqu√©es par d√©faut) -->
            <div id="actualites-supplementaires" class="actualites-supplementaires" style="display: none;">
                {% for actualite in sortedActualites offset:3 %}
                    <article class="actualite-card fade-in-up">
                        <div class="actualite-image">
                            <img src="{{ actualite.image }}" alt="{{ actualite.titre }}" loading="lazy">
                            <div class="actualite-date-badge">{{ actualite.date | date: "%d/%m/%Y"}}</div>
                        </div>
                        <div class="actualite-content">
                            <h3 class="actualite-title">{{ actualite.titre }}</h3>
                            <p class="actualite-date"><i class="far fa-calendar-alt"></i> {{ actualite.date | date: "%d/%m/%Y" }}</p>
                            <p class="actualite-extrait">{{ actualite.extrait }}</p>
                            <button class="btn btn-primary btn-lire-suite" 
                                    data-actualite-id="{{ actualite.id }}"
                                    data-actualite-titre="{{ actualite.titre }}"
                                    data-actualite-date="{{ actualite.date | date: '%d/%m/%Y' }}"
                                    data-actualite-image="{{ actualite.image }}"
                                    data-actualite-contenu="{{ actualite.contenu }}">
                                Lire la suite
                            </button>
                        </div>
                    </article>
                {% endfor %}
            </div>
            {% else %}
            <div class="empty-content-message">
                <i class="far fa-newspaper"></i>
                <p>Aucune actualit√© pour le moment. Revenez bient√¥t pour d√©couvrir nos prochaines actualit√©s !</p>
            </div>
            {% endif %}
        </div>
        
        <!-- Boutons d'actions -->
        <div class="actualites-actions">
            {% if sortedActualites.size > 3 %}
            <button id="btn-voir-plus" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir plus d'actualit√©s</span>
                <i class="fas fa-chevron-down btn-icon"></i>
            </button>
            {% endif %}
            <a href="/evenements" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir le calendrier</span>
                <i class="fas fa-calendar-alt btn-icon"></i>
            </a>
        </div>
    </div>
</section>

<!-- Section Prochains Tournois -->
<section class="tournois section">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>Prochains Tournois</h2>
                <p>{{ page_accueil.tournois_subtitle }}</p>
            </div>
        </div>
        
        <!-- √âtat de chargement -->
        <div class="tournaments-loading" style="display: none;">
            <div class="spinner"></div>
            <p>Chargement des tournois...</p>
        </div>
        
        <!-- Message d'erreur -->
        <div class="tournaments-error" style="display: none;">
            <p>‚ùå Une erreur est survenue lors du chargement des tournois.</p>
        </div>
        
        <!-- Grille des tournois -->
        <div class="tournaments-grid" style="display: none;"></div>
        
        <!-- Message si aucun tournoi -->
        <div class="no-tournaments" style="display: none;">
            <p>üìÖ Aucun tournoi pr√©vu dans les 2 prochaines semaines.</p>
        </div>
    </div>
</section>

<!-- Section Histoire du club avec parallax -->
<section class="histoire parallax-section" data-parallax-speed="0.2">
    <div class="parallax-overlay"></div>
    <div class="container">
        <div class="histoire-content">
            <div class="intro-content">
                <div class="intro-text">
                    <h2 class="white">{{ page_accueil.histoire_title }}</h2>
                </div>
            </div>
            <p class="histoire-text">{{ page_accueil.histoire_description }}</p>
                <a href="/ecole" class="btn btn-outline-white">En savoir plus</a>
                <a href="/rugby-enfants-trevoux" class="btn btn-outline-white">Notre approche p√©dagogique</a>
            </div>
        </div>
    </div>
</section>

<!-- Section Galerie Photos -->
<section class="gallery section">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>{{ page_accueil.gallery_title }}</h2>
                <p class="section-subtitle">{{ page_accueil.gallery_subtitle }}</p>
            </div>
        </div>
        
        <!-- Filtres de cat√©gories -->
        <div class="gallery-filters">
            <button class="gallery-filter-btn active" data-filter="all">
                <i class="fas fa-th"></i> Toutes
            </button>
            <button class="gallery-filter-btn" data-filter="matches">
                <i class="fas fa-trophy"></i> Matchs
            </button>
            <button class="gallery-filter-btn" data-filter="entrainements">
                <i class="fas fa-running"></i> Entra√Ænements
            </button>
            <button class="gallery-filter-btn" data-filter="evenements">
                <i class="fas fa-calendar-alt"></i> √âv√©nements
            </button>
            <button class="gallery-filter-btn" data-filter="equipes">
                <i class="fas fa-users"></i> √âquipes
            </button>
        </div>
        
        <!-- Grille de photos -->
        <div class="gallery-grid" id="gallery-grid">
            {% assign sortedGallery = gallery | sort: 'date' | reverse %}
            
            {% if sortedGallery.size > 0 %}
            {% for photo in sortedGallery limit:6 %}
                <article class="gallery-item fade-in-up" data-category="{{ photo.categorie }}">
                    <div class="gallery-image-container">
                        <img src="{{ photo.mainImage }}" alt="{{ photo.alt }}" class="gallery-image" loading="lazy">
                        <div class="gallery-overlay">
                            <div class="gallery-overlay-content">
                                <h3 class="gallery-title">{{ photo.titre }}</h3>
                                <p class="gallery-date">{{ photo.date | date: '%d/%m/%Y' }}</p>
                                <button class="btn btn-primary btn-small gallery-view-btn" 
                                        data-photo-titre="{{ photo.titre }}"
                                        data-photo-description="{{ photo.description }}"
                                        data-photo-date="{{ photo.date | date: '%d/%m/%Y' }}"
                                        data-photo-main-image="{{ photo.mainImage }}"
                                        data-photo-storage-url="{{ photo.storageUrl }}"
                                        data-photo-alt="{{ photo.alt }}">
                                    <span class="btn-text">Voir les photos</span>
                                    <i class="fas fa-images btn-icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </article>
            {% endfor %}
            {% else %}
            <div class="empty-content-message">
                <i class="far fa-images"></i>
                <p>Aucune photo pour le moment. Revenez bient√¥t pour d√©couvrir nos meilleurs moments en images !</p>
            </div>
            {% endif %}
        </div>
        
        <!-- Bouton voir plus -->
        {% if sortedGallery.size > 6 %}
        <div class="gallery-actions">
            <button id="btn-gallery-load-more" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir plus de photos</span>
                <i class="fas fa-chevron-down btn-icon"></i>
            </button>
        </div>
        {% endif %}
    </div>
</section>

<!-- Modal Lightbox pour la galerie -->
<div id="gallery-modal" class="modal-overlay gallery-modal">
    <div class="gallery-modal-container">
        <button id="gallery-modal-close" class="modal-close-btn">
            <i class="fas fa-times"></i>
        </button>
        <button id="gallery-modal-fullscreen" type="button" class="gallery-modal-fullscreen-btn" aria-label="Activer le mode plein √©cran" aria-pressed="false">
            <i class="fas fa-expand"></i>
        </button>
        <button id="gallery-modal-prev" class="gallery-nav-btn gallery-nav-prev">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button id="gallery-modal-next" class="gallery-nav-btn gallery-nav-next">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="gallery-modal-content">
            <!-- Loading indicator -->
            <div id="gallery-modal-loading" class="gallery-modal-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Chargement des photos...</p>
            </div>
            <!-- Carousel container -->
            <div class="gallery-carousel" role="presentation">
                <div id="gallery-carousel-track" class="gallery-carousel-track" role="listbox" aria-live="polite">
                    <!-- Slides generated dynamiquement -->
                </div>
            </div>
            <!-- Image counter -->
            <div id="gallery-modal-counter" class="gallery-modal-counter">
                <span id="gallery-modal-current">1</span> / <span id="gallery-modal-total">1</span>
            </div>
            <!-- Info section -->
            <div class="gallery-modal-info">
                <h3 id="gallery-modal-titre" class="gallery-modal-title"></h3>
                <p id="gallery-modal-description" class="gallery-modal-description"></p>
                <p id="gallery-modal-date" class="gallery-modal-date">
                    <i class="far fa-calendar-alt"></i>
                    <span></span>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Section Sponsors -->
<section class="sponsors">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>{{ page_accueil.sponsors_title }}</h2>
            </div>
        </div>
        <div class="sponsors-intro">
            <p>{{ page_accueil.sponsors_description }}</p>
            
        </div>
        <div class="sponsors-carousel-container">
            <div class="sponsors-carousel" id="sponsors-carousel">
                {% for sponsor in sponsors %}
                    <div class="sponsor-item fade-in-up">
                        <h4 class="sponsor-name">{{ sponsor.nom }}</h4>
                    </div>
                {% endfor %}
                    {% for sponsor in sponsors %}
                    <div class="sponsor-item fade-in-up">
                        <h4 class="sponsor-name">{{ sponsor.nom }}</h4>
                    </div>
                {% endfor %}
                </div>
                <!-- Les sponsors seront charg√©s dynamiquement depuis JSON -->
            </div>
        </div>
        <a href="/partenariat" class="btn btn-primary">
            <i class="fas fa-handshake"></i>
            Devenir partenaire
        </a>
    </div>
</section>

<!-- Modal pour afficher le d√©tail des actualit√©s -->
<div id="actualite-modal" class="modal-overlay">
    <div class="modal-container">
        <div class="modal-header">
            <h2 id="modal-titre" class="modal-title"></h2>
            <button id="modal-close" class="modal-close-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content">
            <div class="modal-image-container">
                <img id="modal-image" class="modal-image" src="" alt="">
                <div id="modal-date-badge" class="modal-date-badge"></div>
            </div>
            <div class="modal-body">
                <p id="modal-date" class="modal-date">
                    <i class="far fa-calendar-alt"></i>
                    <span></span>
                </p>
                <div id="modal-contenu" class="modal-text"></div>
            </div>
        </div>
    </div>
</div>

<script>
    // Nous exposons les donn√©es des calendriers pour que le JS puisse y acc√©der
    window.calendarConfig = {
        apiKey: "{{ calendars.apiKey }}",
        teams: [
            {% for team in calendars.teams %}
            {
                name: "{{ team.name }}",
                calendarId: "{{ team.calendarId }}"
            }{% if forloop.last == false %},{% endif %}
            {% endfor %}
        ]
    };
</script>
