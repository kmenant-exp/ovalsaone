<!DOCTYPE html>
<html>
<head>
    <title>Test Data Loading</title>
</head>
<body>
    <h1>Test du chargement des données</h1>
    <div id="actualites-grid"></div>
    <div id="sponsors-carousel"></div>

    <script src="js/data-loader.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('Test script démarré');
            
            const dataLoader = new DataLoader();
            console.log('DataLoader créé:', dataLoader);
            
            try {
                const actualitesData = await dataLoader.loadActualites();
                console.log('Actualités chargées:', actualitesData);
                
                if (actualitesData && actualitesData.actualites) {
                    document.getElementById('actualites-grid').innerHTML = 
                        `<p>✅ ${actualitesData.actualites.length} actualités chargées</p>`;
                } else {
                    document.getElementById('actualites-grid').innerHTML = 
                        '<p>❌ Aucune actualité trouvée</p>';
                }
                
                const sponsorsData = await dataLoader.loadSponsors();
                console.log('Sponsors chargés:', sponsorsData);
                
                if (sponsorsData && sponsorsData.sponsors) {
                    document.getElementById('sponsors-carousel').innerHTML = 
                        `<p>✅ ${sponsorsData.sponsors.length} sponsors chargés</p>`;
                } else {
                    document.getElementById('sponsors-carousel').innerHTML = 
                        '<p>❌ Aucun sponsor trouvé</p>';
                }
                
            } catch (error) {
                console.error('Erreur:', error);
                document.getElementById('actualites-grid').innerHTML = 
                    `<p>❌ Erreur: ${error.message}</p>`;
            }
        });
    </script>
</body>
</html>
