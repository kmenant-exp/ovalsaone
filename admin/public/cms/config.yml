locale: fr

backend:
  name: github
  repo: kmenant-exp/ovalsaone
  branch: main
  base_url: https://ovalsaone-admin.pages.dev
  auth_endpoint: /oauth/auth
  commit_messages:
    create: "cms: création {{collection}} «{{slug}}»"
    update: "cms: mise à jour {{collection}} «{{slug}}»"
    delete: "cms: suppression {{collection}} «{{slug}}»"

media_folder: "pages/src/assets"
public_folder: "/assets"

# ============================================================
# COLLECTIONS
# ============================================================

collections:
  # ----------------------------------------------------------
  # CONTENU DU SITE
  # ----------------------------------------------------------
  - name: contenu
    label: "Contenu du site"
    files:
      - name: actualites
        label: "Actualités"
        file: "pages/src/_data/actualites.json"
        format: json
        media_folder: "/pages/src/assets/actualites"
        public_folder: "/assets/actualites"
        fields:
          - label: "Actualités"
            name: "actualites"
            widget: list
            summary: "{{fields.titre}} — {{fields.date}}"
            fields:
              - { label: "Titre", name: "titre", widget: "string" }
              - { label: "Extrait", name: "extrait", widget: "text" }
              - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD", date_format: "DD/MM/YYYY", time_format: false }
              - { label: "Image", name: "image", widget: "image", required: false }
              - { label: "Contenu", name: "contenu", widget: "text" }

      - name: gallery
        label: "Galerie"
        file: "pages/src/_data/gallery.json"
        format: json
        media_folder: "/pages/src/assets/gallery"
        public_folder: "/assets/gallery"
        fields:
          - label: "Albums"
            name: "gallery"
            widget: list
            summary: "{{fields.titre}} — {{fields.categorie}} ({{fields.date}})"
            fields:
              - { label: "Titre", name: "titre", widget: "string" }
              - { label: "Description", name: "description", widget: "text", required: false, default: "" }
              - { label: "Image principale (couverture)", name: "mainImage", widget: "image" }
              - { label: "Texte alternatif", name: "alt", widget: "string", required: false, default: "" }
              - label: "Catégorie"
                name: "categorie"
                widget: "select"
                options:
                  - { label: "Matchs", value: "matches" }
                  - { label: "Entraînements", value: "entrainements" }
                  - { label: "Événements", value: "evenements" }
                  - { label: "Équipes", value: "equipes" }
              - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD", date_format: "DD/MM/YYYY", time_format: false }
              - label: "Photos de l'album"
                name: "images"
                widget: "list"
                summary: "{{fields.image}}"
                field: { label: "Photo", name: "image", widget: "image" }

  # ----------------------------------------------------------
  # CLUB
  # ----------------------------------------------------------
  - name: club
    label: "Club"
    files:
      - name: bureau
        label: "Bureau"
        file: "pages/src/_data/bureau.json"
        format: json
        media_folder: "/pages/src/assets/bureau"
        public_folder: "/assets/bureau"
        fields:
          - label: "Membres du bureau"
            name: "bureau"
            widget: list
            summary: "{{fields.prenom}} {{fields.nom}} — {{fields.poste}}"
            fields:
              - { label: "Nom", name: "nom", widget: "string" }
              - { label: "Prénom", name: "prenom", widget: "string" }
              - { label: "Poste", name: "poste", widget: "string" }
              - { label: "Description", name: "description", widget: "text", required: false, default: "" }
              - { label: "Photo", name: "photo", widget: "image", default: "/assets/bureau/default.jpg" }

      - name: teams
        label: "Équipes"
        file: "pages/src/_data/teams.json"
        format: json
        fields:
          - label: "Équipes"
            name: "teams"
            widget: list
            summary: "{{fields.name}} ({{fields.min_age}}-{{fields.max_age}} ans)"
            fields:
              - { label: "Nom", name: "name", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "Âge minimum", name: "min_age", widget: "number", value_type: "int" }
              - { label: "Âge maximum", name: "max_age", widget: "number", value_type: "int", required: false }
              - { label: "Nombre de joueurs", name: "players", widget: "number", value_type: "int", required: false }
              - label: "Entraîneurs"
                name: "coaches"
                widget: list
                summary: "{{fields.name}}"
                fields:
                  - { label: "Nom", name: "name", widget: "string" }
              - label: "Horaires"
                name: "schedule"
                widget: list
                summary: "{{fields.day}} {{fields.time}}"
                fields:
                  - { label: "Jour", name: "day", widget: "select", options: ["Lundi", "Mardi", "Mercredi", "Jeudi", "Vendredi", "Samedi", "Dimanche"] }
                  - { label: "Horaire", name: "time", widget: "string" }

      - name: entraineurs
        label: "Entraîneurs"
        file: "pages/src/_data/entraineurs.json"
        media_folder: "/pages/src/assets/entraineurs"
        public_folder: "/assets/entraineurs"
        format: json
        fields:
          - label: "Entraîneurs"
            name: "entraineurs"
            widget: list
            summary: "{{fields.prenom}} {{fields.nom}} — {{fields.categories}}"
            fields:
              - { label: "Nom", name: "nom", widget: "string" }
              - { label: "Prénom", name: "prenom", widget: "string" }
              - label: "Catégories"
                name: "categories"
                widget: list
                field: { label: "Catégorie", name: "categorie", widget: "select", options: ["U6", "U8", "U10", "U12", "U14", "Rugby Touch"] }
              - { label: "Expérience", name: "experience", widget: "string" }
              - label: "Diplômes"
                name: "diplomes"
                widget: list
                field: { label: "Diplôme", name: "diplome", widget: "string" }
              - { label: "Photo", name: "photo", widget: "image", default: "/assets/entraineurs/default.jpg" }
              - label: "Spécialités"
                name: "specialites"
                widget: list
                field: { label: "Spécialité", name: "specialite", widget: "string" }

      - name: sponsors
        label: "Sponsors & Partenaires"
        file: "pages/src/_data/sponsors.json"
        media_folder: "/pages/src/assets/sponsors"
        public_folder: "/assets/sponsors"
        format: json
        fields:
          - label: "Sponsors"
            name: "sponsors"
            widget: list
            summary: "{{fields.nom}} (depuis {{fields.partenariat_depuis}})"
            fields:
              - { label: "Nom", name: "nom", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "Email", name: "email", widget: "string", required: false }
              - { label: "Partenaire depuis", name: "partenariat_depuis", widget: "number", value_type: "int" }
              - { label: "Type", name: "type", widget: "select", options: ["partenaire", "sponsor"], default: "partenaire" }

  # ----------------------------------------------------------
  # BOUTIQUE
  # ----------------------------------------------------------
  - name: boutique
    label: "Boutique"
    files:
      - name: products
        label: "Produits"
        file: "pages/src/_data/products.json"
        format: json
        fields:
          - label: "Produits"
            name: "products"
            widget: list
            summary: "{{fields.name}} — {{fields.price}}€"
            fields:
              - { label: "ID", name: "id", widget: "number", value_type: "int" }
              - { label: "Nom", name: "name", widget: "string" }
              - { label: "Description", name: "description", widget: "string", required: false, default: "" }
              - { label: "Prix (€)", name: "price", widget: "number", value_type: "int" }
              - { label: "Image (URL)", name: "image", widget: "string" }
              - label: "Tailles"
                name: "sizes"
                widget: list
                field: { label: "Taille", name: "size", widget: "string" }
              - label: "Catégories"
                name: "categories"
                widget: list
                field: { label: "Catégorie", name: "categorie", widget: "string" }
              - { label: "URL HelloAsso", name: "url", widget: "string" }

  # ----------------------------------------------------------
  # CONFIGURATION
  # ----------------------------------------------------------
  - name: configuration
    label: "Configuration"
    files:
      - name: contact
        label: "Contact"
        file: "pages/src/_data/contact.json"
        format: json
        fields:
          - { label: "Adresse", name: "address", widget: "string" }
          - { label: "Téléphone", name: "phone", widget: "string" }
          - { label: "Email", name: "email", widget: "string" }

      - name: calendars
        label: "Calendriers Google"
        file: "pages/src/_data/calendars.json"
        format: json
        fields:
          - { label: "Clé API Google", name: "apiKey", widget: "string" }
          - label: "Équipes"
            name: "teams"
            widget: list
            summary: "{{fields.name}}"
            fields:
              - { label: "Nom", name: "name", widget: "string" }
              - { label: "Calendar ID", name: "calendarId", widget: "string" }
              - { label: "URL Calendrier", name: "calendarUrl", widget: "string" }
              - { label: "URL ICS", name: "icsUrl", widget: "string" }

      - name: turnstile
        label: "Turnstile (anti-bot)"
        file: "pages/src/_data/turnstile.json"
        format: json
        fields:
          - { label: "Site Key", name: "siteKey", widget: "string" }

  # ----------------------------------------------------------
  # PAGES DU SITE
  # ----------------------------------------------------------
  - name: pages
    label: "Pages du site"
    files:
      # --- Accueil ---
      - name: page_accueil
        label: "Page d'accueil"
        file: "pages/src/_data/page_accueil.json"
        format: json
        fields:
          - { label: "Titre héro", name: "hero_title", widget: "string" }
          - { label: "Sous-titre héro", name: "hero_subtitle", widget: "string" }
          - { label: "Description héro", name: "hero_description", widget: "text" }
          - { label: "Titre histoire", name: "histoire_title", widget: "string" }
          - { label: "Description histoire", name: "histoire_description", widget: "text" }
          - { label: "Titre galerie", name: "gallery_title", widget: "string" }
          - { label: "Sous-titre galerie", name: "gallery_subtitle", widget: "string" }
          - { label: "Sous-titre tournois", name: "tournois_subtitle", widget: "text" }
          - { label: "Titre sponsors", name: "sponsors_title", widget: "string" }
          - { label: "Description sponsors", name: "sponsors_description", widget: "text" }

      # --- Boutique ---
      - name: page_boutique
        label: "Boutique"
        file: "pages/src/_data/page_boutique.json"
        format: json
        fields:
          - { label: "Titre héro", name: "hero_title", widget: "string" }
          - { label: "Description héro", name: "hero_description", widget: "text" }
          - { label: "Titre produits", name: "products_title", widget: "string" }
          - { label: "Description produits", name: "products_description", widget: "text" }
          - { label: "Titre boutique en ligne", name: "shop_title", widget: "string" }
          - { label: "Description boutique en ligne", name: "shop_description", widget: "text" }

      # --- Contact ---
      - name: page_contact
        label: "Contact"
        file: "pages/src/_data/page_contact.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "text" }
          - label: "Formulaire"
            name: "form"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "text" }
          - label: "Carte"
            name: "map"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }

      # --- Équipes ---
      - name: page_equipes
        label: "Équipes"
        file: "pages/src/_data/page_equipes.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "text" }
          - label: "Introduction"
            name: "intro"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }

      # --- Événements ---
      - name: page_evenements
        label: "Événements / Calendrier"
        file: "pages/src/_data/page_evenements.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "text" }
          - label: "Introduction"
            name: "intro"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }

      # --- École de Rugby ---
      - name: page_ecole
        label: "École de Rugby"
        file: "pages/src/_data/page_ecole.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
          - label: "Notre histoire"
            name: "histoire"
            widget: "object"
            fields:
              - { label: "Description (HTML autorisé)", name: "description", widget: "text" }
              - { label: "Année de création", name: "annee_creation", widget: "number", value_type: "int" }
              - { label: "Nombre de licenciés", name: "licencies", widget: "number", value_type: "int" }
              - { label: "Nombre d'équipes", name: "equipes", widget: "number", value_type: "int" }
              - { label: "Nombre d'éducateurs", name: "educateurs", widget: "number", value_type: "int" }
              - { label: "Entraînements par semaine", name: "entrainements_semaine", widget: "number", value_type: "int" }
              - { label: "Tournois par saison", name: "tournois_saison", widget: "number", value_type: "int" }
              - label: "Sections"
                name: "sections"
                widget: "list"
                summary: "{{fields.titre}}"
                fields:
                  - { label: "Titre", name: "titre", widget: "string" }
                  - { label: "Contenu (HTML autorisé)", name: "contenu", widget: "text" }
                  - label: "Liste (optionnelle)"
                    name: "liste"
                    widget: "list"
                    required: false
                    field: { label: "Élément", name: "element", widget: "string" }

      # --- Partenariat ---
      - name: page_partenariat
        label: "Partenariat & Dons"
        file: "pages/src/_data/page_partenariat.json"
        format: json
        fields:
          - { label: "Titre héro", name: "hero_title", widget: "string" }
          - { label: "Sous-titre héro", name: "hero_subtitle", widget: "text" }
          - { label: "Titre sponsors", name: "sponsor_title", widget: "string" }
          - { label: "Sous-titre sponsors", name: "sponsor_subtitle", widget: "text" }
          - { label: "Bouton CTA sponsor", name: "cta_sponsor_button", widget: "string" }
          - { label: "Titre partenariat", name: "partenariat_title", widget: "string" }
          - { label: "Description partenariat", name: "partenariat_description", widget: "text" }
          - label: "Partenariat Entreprise"
            name: "partenariat_entreprise"
            widget: "object"
            fields:
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Avantages"
                name: "advantages"
                widget: "list"
                summary: "{{fields.titre}}"
                fields:
                  - { label: "Icône (emoji)", name: "icone", widget: "string" }
                  - { label: "Titre", name: "titre", widget: "string" }
                  - { label: "Description", name: "description", widget: "string" }
              - { label: "Avantages fiscaux", name: "fiscal_advantages", widget: "text" }
          - label: "Partenariat Particulier"
            name: "partenariat_particulier"
            widget: "object"
            fields:
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }
              - label: "Avantages"
                name: "advantages"
                widget: "list"
                summary: "{{fields.titre}}"
                fields:
                  - { label: "Icône (emoji)", name: "icone", widget: "string" }
                  - { label: "Titre", name: "titre", widget: "string" }
                  - { label: "Description", name: "description", widget: "string" }
              - { label: "Avantages fiscaux", name: "fiscal_advantages", widget: "text" }

      # --- FAQ ---
      - name: page_faq
        label: "FAQ"
        file: "pages/src/_data/page_faq.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
          - label: "Introduction"
            name: "intro"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
          - label: "Catégories"
            name: "categories"
            widget: "list"
            summary: "{{fields.title}} ({{fields.id}})"
            fields:
              - { label: "Identifiant", name: "id", widget: "string" }
              - { label: "Icône (classe Font Awesome)", name: "icon", widget: "string" }
              - { label: "Titre", name: "title", widget: "string" }
              - label: "Questions"
                name: "questions"
                widget: "list"
                summary: "{{fields.q}}"
                fields:
                  - { label: "Question", name: "q", widget: "string" }
                  - { label: "Réponse (HTML autorisé)", name: "a", widget: "text" }
          - label: "Appel à l'action"
            name: "cta"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
              - label: "Boutons"
                name: "buttons"
                widget: "list"
                summary: "{{fields.text}}"
                fields:
                  - { label: "Texte", name: "text", widget: "string" }
                  - { label: "URL", name: "url", widget: "string" }
                  - { label: "Classe CSS", name: "class", widget: "string" }

      # --- Inscription ---
      - name: page_inscription
        label: "Inscription"
        file: "pages/src/_data/page_inscription.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
          - label: "Introduction"
            name: "intro"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Description (HTML autorisé)", name: "description", widget: "text" }
              - label: "Points forts"
                name: "features"
                widget: "list"
                summary: "{{fields.title}}"
                fields:
                  - { label: "Icône (classe Font Awesome)", name: "icon", widget: "string" }
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "text" }
          - label: "Barre latérale"
            name: "sidebar"
            widget: "object"
            fields:
              - label: "Tarifs"
                name: "tarif"
                widget: "object"
                fields:
                  - { label: "Icône", name: "icon", widget: "string" }
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Enfants"
                    name: "enfants"
                    widget: "object"
                    fields:
                      - { label: "Titre section", name: "title", widget: "string" }
                      - label: "Tarif normal"
                        name: "normal"
                        widget: "object"
                        fields:
                          - { label: "Prix (€)", name: "price", widget: "number", value_type: "int" }
                          - { label: "Titre", name: "title", widget: "string" }
                          - { label: "Description", name: "description", widget: "string" }
                      - label: "Baby Rugby"
                        name: "baby"
                        widget: "object"
                        fields:
                          - { label: "Prix (€)", name: "price", widget: "number", value_type: "int" }
                          - { label: "Titre", name: "title", widget: "string" }
                          - { label: "Description", name: "description", widget: "string" }
                  - label: "Adultes"
                    name: "adultes"
                    widget: "object"
                    fields:
                      - { label: "Titre section", name: "title", widget: "string" }
                      - label: "Licence unique"
                        name: "touch_unique"
                        widget: "object"
                        fields:
                          - { label: "Prix (€)", name: "price", widget: "number", value_type: "int" }
                          - { label: "Titre", name: "title", widget: "string" }
                          - { label: "Description", name: "description", widget: "string" }
                      - label: "Licences multiples"
                        name: "touch_multiple"
                        widget: "object"
                        fields:
                          - { label: "Prix (€)", name: "price", widget: "number", value_type: "int" }
                          - { label: "Titre", name: "title", widget: "string" }
                          - { label: "Description", name: "description", widget: "string" }
                  - { label: "Description incluse", name: "description", widget: "text" }
              - label: "Documents requis"
                name: "documents"
                widget: "object"
                fields:
                  - { label: "Icône", name: "icon", widget: "string" }
                  - { label: "Titre", name: "title", widget: "string" }
                  - label: "Liste des documents"
                    name: "list"
                    widget: "list"
                    summary: "{{fields.name}}"
                    fields:
                      - { label: "Nom", name: "name", widget: "string" }
                      - { label: "Obligatoire", name: "required", widget: "boolean" }
                      - { label: "Description", name: "description", widget: "text" }
              - label: "Contact aide"
                name: "contact"
                widget: "object"
                fields:
                  - { label: "Icône", name: "icon", widget: "string" }
                  - { label: "Titre", name: "title", widget: "string" }
          - label: "Processus d'inscription"
            name: "inscription_process"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "string" }
              - { label: "URL Hello Asso", name: "hello_asso_url", widget: "string" }
              - label: "Étapes"
                name: "steps"
                widget: "list"
                summary: "{{fields.title}}"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Description (HTML autorisé)", name: "description", widget: "text" }
              - label: "Procédure FFR"
                name: "ffr_steps"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Description", name: "description", widget: "text" }
                  - label: "Éléments à fournir"
                    name: "items"
                    widget: "list"
                    field: { label: "Élément (HTML autorisé)", name: "item", widget: "string" }
              - label: "Validation"
                name: "validation"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Description (HTML autorisé)", name: "description", widget: "text" }
                  - { label: "Avertissement", name: "warning", widget: "string" }
              - label: "Cotisation"
                name: "cotisation"
                widget: "object"
                fields:
                  - { label: "Titre", name: "title", widget: "string" }
                  - { label: "Description (HTML autorisé)", name: "description", widget: "text" }

      # --- Rugby Enfants Trévoux ---
      - name: page_rugby_enfants
        label: "Rugby Enfants Trévoux"
        file: "pages/src/_data/page_rugby_enfants.json"
        format: json
        fields:
          - label: "Héro"
            name: "hero"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "string" }
          - label: "Introduction"
            name: "intro"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Texte", name: "text", widget: "text" }
          - label: "Sections"
            name: "sections"
            widget: "list"
            summary: "{{fields.title}}"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Introduction", name: "intro", widget: "text", required: false }
              - label: "Éléments (niveau section)"
                name: "items"
                widget: "list"
                required: false
                field: { label: "Élément (HTML autorisé)", name: "item", widget: "string" }
              - label: "Sous-sections"
                name: "subsections"
                widget: "list"
                required: false
                summary: "{{fields.subtitle}}"
                fields:
                  - { label: "Sous-titre", name: "subtitle", widget: "string" }
                  - { label: "Contenu", name: "content", widget: "text" }
                  - label: "Éléments"
                    name: "items"
                    widget: "list"
                    required: false
                    field: { label: "Élément (HTML autorisé)", name: "item", widget: "string" }
          - label: "FAQ"
            name: "faq"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - label: "Questions"
                name: "questions"
                widget: "list"
                summary: "{{fields.question}}"
                fields:
                  - { label: "Question", name: "question", widget: "string" }
                  - { label: "Réponse (HTML autorisé)", name: "answer", widget: "text" }
          - label: "Appel à l'action"
            name: "cta"
            widget: "object"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Sous-titre", name: "subtitle", widget: "text" }
              - label: "Boutons"
                name: "buttons"
                widget: "list"
                summary: "{{fields.text}}"
                fields:
                  - { label: "Texte", name: "text", widget: "string" }
                  - { label: "URL", name: "url", widget: "string" }
                  - { label: "Style (primary/secondary)", name: "style", widget: "select", options: ["primary", "secondary"] }
