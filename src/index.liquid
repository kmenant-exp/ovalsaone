---
layout: layout.njk
title: École de Rugby Oval Saône - Rugby Enfants Trévoux | U4 à U14
hero_title: "Bienvenue à l'École de Rugby"
hero_subtitle: "Formez-vous aux valeurs du rugby : respect, esprit d'équipe et dépassement de soi"
hero_description: "Notre école accueille des enfants et adolescents de 4 à 14 ans dans un cadre convivial et professionnel."
histoire_title: "Notre histoire"
histoire_description: "L'Ecole de Rugby Oval'Saône est née de la volonté des entraîneurs et de certains parents de créer un club convivial et familial, au sein duquel les enfants découvrent le rugby et prennent plaisir à jouer. Implanté sur la commune de Trévoux, les jeunes s'entraînent au stade de Chamalan (Quincieux)."
gallery_title: "Nos Moments en Images"
gallery_subtitle: "Revivez les meilleurs moments du club"
sponsors_title: "Ils nous soutiennent"
sponsors_description: "Nos partenaires sont essentiels au développement de notre club. Particuliers ou entreprises, vous aussi pouvez nous soutenir !"
---

<!-- Section Hero avec effet parallax -->
<section id="accueil" class="hero parallax-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
        <div class="hero-logo">
            <img src="assets/logo.webp" alt="Logo École de Rugby">
        </div>
        <h1 class="hero-title">{{ hero_title  }}</h1>
        <p class="hero-subtitle">{{ hero_subtitle }}</p>
        <p class="hero-description">{{ hero_description }}</p>
        <div class="hero-buttons">
            <a href="/inscription" class="btn btn-primary btn-large">Nous rejoindre</a>
            <a href="/ecole" class="btn btn-outline-white btn-large">En savoir plus</a>
        </div>
    </div>
    <!-- Indicateur de défilement -->
    <div class="scroll-indicator">
        <span class="scroll-indicator-text">Découvrir</span>
        <div class="scroll-indicator-icon"></div>
    </div>
</section>

<!-- Section Actualités -->
<section class="actualites section">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>Actualités</h2>
            </div>
        </div>
        <div class="actualites-grid" id="actualites-grid">
            <!-- Les 3 premières actualités futures (visibles par défaut) -->
            {% assign currentDate = 'now' | date: '%Y-%m-%d' %}
            {% assign futureActualites = actualites | where_exp: "item", "item.date >= currentDate" %}
            
            {% if futureActualites.size > 0 %}
            {% for actualite in futureActualites limit:3 %}
                <article class="actualite-card fade-in-up">
                    <div class="actualite-image">
                        <img src="{{ actualite.image }}" alt="{{ actualite.titre }}">
                        <div class="actualite-date-badge">{{ actualite.date | date: "%d/%m/%Y"}}</div>
                    </div>
                    <div class="actualite-content">
                        <h3 class="actualite-title">{{ actualite.titre }}</h3>
                        <p class="actualite-date"><i class="far fa-calendar-alt"></i> {{ actualite.date | date: "%d/%m/%Y" }}</p>
                        <p class="actualite-extrait">{{ actualite.extrait }}</p>
                        <button class="btn btn-primary btn-lire-suite" 
                                data-actualite-id="{{ actualite.id }}"
                                data-actualite-titre="{{ actualite.titre }}"
                                data-actualite-date="{{ actualite.date | date: '%d/%m/%Y' }}"
                                data-actualite-image="{{ actualite.image }}"
                                data-actualite-contenu="{{ actualite.contenu }}">
                            Lire la suite
                        </button>
                    </div>
                </article>
            {% endfor %}
            
            <!-- Les actualités supplémentaires (masquées par défaut) -->
            <div id="actualites-supplementaires" class="actualites-supplementaires" style="display: none;">
                {% for actualite in futureActualites offset:3 %}
                    <article class="actualite-card fade-in-up">
                        <div class="actualite-image">
                            <img src="{{ actualite.image }}" alt="{{ actualite.titre }}">
                            <div class="actualite-date-badge">{{ actualite.date | date: "%d/%m/%Y"}}</div>
                        </div>
                        <div class="actualite-content">
                            <h3 class="actualite-title">{{ actualite.titre }}</h3>
                            <p class="actualite-date"><i class="far fa-calendar-alt"></i> {{ actualite.date | date: "%d/%m/%Y" }}</p>
                            <p class="actualite-extrait">{{ actualite.extrait }}</p>
                            <button class="btn btn-primary btn-lire-suite" 
                                    data-actualite-id="{{ actualite.id }}"
                                    data-actualite-titre="{{ actualite.titre }}"
                                    data-actualite-date="{{ actualite.date | date: '%d/%m/%Y' }}"
                                    data-actualite-image="{{ actualite.image }}"
                                    data-actualite-contenu="{{ actualite.contenu }}">
                                Lire la suite
                            </button>
                        </div>
                    </article>
                {% endfor %}
            </div>
            {% else %}
            <div class="no-actualites">
                <p>Aucun événement à venir pour le moment. Revenez bientôt pour découvrir nos prochaines actualités !</p>
            </div>
            {% endif %}
        </div>
        
        <!-- Boutons d'actions -->
        <div class="actualites-actions">
            {% if futureActualites.size > 3 %}
            <button id="btn-voir-plus" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir plus d'actualités</span>
                <i class="fas fa-chevron-down btn-icon"></i>
            </button>
            {% endif %}
            <a href="/evenements" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir le calendrier</span>
                <i class="fas fa-calendar-alt btn-icon"></i>
            </a>
        </div>
    </div>
</section>

<!-- Section Histoire du club avec parallax -->
<section class="histoire parallax-section">
    <div class="parallax-overlay"></div>
    <div class="container">
        <div class="histoire-content">
            <div class="intro-content">
                <div class="intro-text">
                    <h2 class="white">{{ histoire_title }}</h2>
                </div>
            </div>
            <p class="histoire-text">{{ histoire_description }}</p>
            <a href="/ecole" class="btn btn-outline-white">En savoir plus</a>
        </div>
    </div>
</section>

<!-- Section Galerie Photos -->
<section class="gallery section">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>{{ gallery_title }}</h2>
                <p class="section-subtitle">{{ gallery_subtitle }}</p>
            </div>
        </div>
        
        <!-- Filtres de catégories -->
        <div class="gallery-filters">
            <button class="gallery-filter-btn active" data-filter="all">
                <i class="fas fa-th"></i> Toutes
            </button>
            <button class="gallery-filter-btn" data-filter="matches">
                <i class="fas fa-trophy"></i> Matchs
            </button>
            <button class="gallery-filter-btn" data-filter="entrainements">
                <i class="fas fa-running"></i> Entraînements
            </button>
            <button class="gallery-filter-btn" data-filter="evenements">
                <i class="fas fa-calendar-alt"></i> Événements
            </button>
            <button class="gallery-filter-btn" data-filter="equipes">
                <i class="fas fa-users"></i> Équipes
            </button>
        </div>
        
        <!-- Grille de photos -->
        <div class="gallery-grid" id="gallery-grid">
            {% assign sortedGallery = gallery | sort: 'date' | reverse %}
            {% for photo in sortedGallery limit:6 %}
                <article class="gallery-item fade-in-up" data-category="{{ photo.categorie }}">
                    <div class="gallery-image-container">
                        <img src="{{ photo.mainImage }}" alt="{{ photo.alt }}" class="gallery-image" loading="lazy">
                        <div class="gallery-overlay">
                            <div class="gallery-overlay-content">
                                <h3 class="gallery-title">{{ photo.titre }}</h3>
                                <p class="gallery-date">{{ photo.date | date: '%d/%m/%Y' }}</p>
                                <button class="btn btn-primary btn-small gallery-view-btn" 
                                        data-photo-titre="{{ photo.titre }}"
                                        data-photo-description="{{ photo.description }}"
                                        data-photo-date="{{ photo.date | date: '%d/%m/%Y' }}"
                                        data-photo-main-image="{{ photo.mainImage }}"
                                        data-photo-storage-url="{{ photo.storageUrl }}"
                                        data-photo-alt="{{ photo.alt }}">
                                    <span class="btn-text">Voir les photos</span>
                                    <i class="fas fa-images btn-icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </article>
            {% endfor %}
        </div>
        
        <!-- Bouton voir plus -->
        {% if gallery.size > 6 %}
        <div class="gallery-actions">
            <button id="btn-gallery-load-more" class="btn btn-outline-primary btn-large">
                <span class="btn-text">Voir plus de photos</span>
                <i class="fas fa-chevron-down btn-icon"></i>
            </button>
        </div>
        {% endif %}
    </div>
</section>

<!-- Modal Lightbox pour la galerie -->
<div id="gallery-modal" class="modal-overlay gallery-modal">
    <div class="gallery-modal-container">
        <button id="gallery-modal-close" class="modal-close-btn">
            <i class="fas fa-times"></i>
        </button>
        <button id="gallery-modal-prev" class="gallery-nav-btn gallery-nav-prev">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button id="gallery-modal-next" class="gallery-nav-btn gallery-nav-next">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="gallery-modal-content">
            <!-- Loading indicator -->
            <div id="gallery-modal-loading" class="gallery-modal-loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Chargement des photos...</p>
            </div>
            <!-- Carousel container -->
            <div class="gallery-carousel" role="presentation">
                <div id="gallery-carousel-track" class="gallery-carousel-track" role="listbox" aria-live="polite">
                    <!-- Slides generated dynamiquement -->
                </div>
            </div>
            <!-- Image counter -->
            <div id="gallery-modal-counter" class="gallery-modal-counter">
                <span id="gallery-modal-current">1</span> / <span id="gallery-modal-total">1</span>
            </div>
            <!-- Info section -->
            <div class="gallery-modal-info">
                <h3 id="gallery-modal-titre" class="gallery-modal-title"></h3>
                <p id="gallery-modal-description" class="gallery-modal-description"></p>
                <p id="gallery-modal-date" class="gallery-modal-date">
                    <i class="far fa-calendar-alt"></i>
                    <span></span>
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Section Sponsors -->
<section class="sponsors">
    <div class="container">
        <div class="intro-content">
            <div class="intro-text">
                <h2>{{ sponsors_title }}</h2>
            </div>
        </div>
        <div class="sponsors-intro">
            <p>{{ sponsors_description }}</p>
            <a href="/partenariat" class="btn btn-primary">
                <i class="fas fa-handshake"></i>
                Devenir partenaire
            </a>
        </div>
        <div class="sponsors-carousel-container">
            <div class="sponsors-carousel" id="sponsors-carousel">
                {% for sponsor in sponsors %}
                    <div class="sponsor-item fade-in-up">
                        <div class="sponsor-logo-container">
                            <img src="{{ sponsor.logo }}" alt="{{ sponsor.nom }}" class="sponsor-logo">
                        </div>
                        <h4 class="sponsor-name">{{ sponsor.nom }}</h4>
                    </div>
                {% endfor %}
                    {% for sponsor in sponsors %}
                    <div class="sponsor-item fade-in-up">
                        <div class="sponsor-logo-container">
                            <img src="{{ sponsor.logo }}" alt="{{ sponsor.nom }}" class="sponsor-logo">
                        </div>
                        <h4 class="sponsor-name">{{ sponsor.nom }}</h4>
                    </div>
                {% endfor %}
                </div>
                <!-- Les sponsors seront chargés dynamiquement depuis JSON -->
            </div>
        </div>
    </div>
</section>

<!-- Modal pour afficher le détail des actualités -->
<div id="actualite-modal" class="modal-overlay">
    <div class="modal-container">
        <div class="modal-header">
            <h2 id="modal-titre" class="modal-title"></h2>
            <button id="modal-close" class="modal-close-btn">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="modal-content">
            <div class="modal-image-container">
                <img id="modal-image" class="modal-image" src="" alt="">
                <div id="modal-date-badge" class="modal-date-badge"></div>
            </div>
            <div class="modal-body">
                <p id="modal-date" class="modal-date">
                    <i class="far fa-calendar-alt"></i>
                    <span></span>
                </p>
                <div id="modal-contenu" class="modal-text"></div>
            </div>
        </div>
    </div>
</div>